openapi: 3.0.3
info:
  title: Actions client
  description: 'Retrieve action recipe specifications. Create, read, update, and delete action recipes. Retrieve payment statuses and types.'
  version: 2.0.13
  x-icon: settings
  license:
    name: Copyright Backbase
    url: 'https://www.backbase.com/legal'
servers:
  - description: Prism mock server
    url: 'http://localhost:4010'
tags:
  - name: action
paths:
  /client-api/v2/action-recipe-specifications:
    summary: ActionRecipeSpecifications
    get:
      tags:
        - action-recipe-specifications
      description: Retrieves action recipe specifications.
      operationId: getActionRecipeSpecifications
      parameters:
        - name: offset
          in: query
          description: Represents a number of page
          required: false
          schema:
            type: integer
            format: int32
            minimum: 0
            default: 0
          example:
            $ref: '#/components/examples/Offset'
        - name: limit
          in: query
          description: Represents a page size
          required: false
          schema:
            type: integer
            format: int32
            minimum: 0
            default: 10
          example:
            $ref: '#/components/examples/Limit'
        - name: orderBy
          in: query
          description: 'Order by field: name, type, category'
          required: false
          schema:
            type: string
        - name: direction
          in: query
          description: Direction
          required: false
          schema:
            type: string
            enum:
              - ASC
              - DESC
            default: DESC
      responses:
        '200':
          description: |-
            # Returns a list of actions recipe specifications

            This API returns action recipe specifications which have isUserDefinable property set to true.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ActionRecipeSpecificationsGetResponseBody'
        '400':
          description: BadRequest
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestError'
              example:
                $ref: '#/components/examples/BadRequestError'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnauthorizedError'
              example:
                $ref: '#/components/examples/UnauthorizedError'
  /client-api/v2/action-recipes:
    summary: ActionRecipes
    description: Endpoint to manipulate action recipes
    get:
      tags:
        - action-recipes
      description: |-
        Returns a list of action recipes. Caller must have the following permissions:

         - Privileges: `view`
         - Business function: `Manage Action Recipes`
      operationId: getActionRecipes
      parameters:
        - name: specificationId
          in: query
          required: false
          schema:
            type: string
        - name: active
          in: query
          required: false
          schema:
            type: boolean
        - name: offset
          in: query
          description: Represents a number of page
          required: false
          schema:
            type: integer
            format: int32
            default: 0
          example:
            $ref: '#/components/examples/Offset'
        - name: limit
          in: query
          description: Represents a page size
          required: false
          schema:
            type: integer
            format: int32
            default: 10
          example:
            $ref: '#/components/examples/Limit'
        - name: orderBy
          in: query
          description: 'Order by field: name, active, specificationId, amount, createdOn'
          required: false
          schema:
            type: string
        - name: direction
          in: query
          description: Direction
          required: false
          schema:
            type: string
            enum:
              - ASC
              - DESC
            default: DESC
      responses:
        '200':
          description: Ok
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ActionRecipesGetResponseBody'
        '400':
          description: BadRequest
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestError'
              example:
                $ref: '#/components/examples/BadRequestError'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnauthorizedError'
              example:
                $ref: '#/components/examples/UnauthorizedError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ForbiddenError'
              example:
                $ref: '#/components/examples/ForbiddenError'
      x-BbAccessControl-resource: Actions
      x-BbAccessControl-function: Manage Action Recipes
      x-BbAccessControl-privilege: view
    post:
      tags:
        - action-recipes
      description: |-
        Creates a new action recipe. Caller must have the following permissions:

         - Privileges: `view`, `create`
         - Business function: `Manage Action Recipes`

        Additionally, arrangement validation takes place in two cases:

         - If the action recipe belongs to an action recipe specification with the category `arrangementBased` 
         - Deprecated. If the action recipe belongs to an action recipe specification with an ID `1` or `4` if there is no category specified
         
        Arrangement validation implies verification that the logged-in user has the `view` privilege for the `Product Summary` business function for the `arrangement` specified in the payload when creating a new action recipe.
      operationId: postActionRecipes
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ActionRecipesPostRequestBody'
      responses:
        '202':
          description: Returns the ID of the new action recipe
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ActionRecipesPostResponseBody'
        '400':
          description: |-
            Either:

            * Request does not honor the contract, check the example in the Request tab.
            * There was one of the following logic errors resulting from the spec generation:

            | Message | key | context |
            --- | --- | ---
            | Action recipe `specificationId` field required | api.NotNull.specificationId | none |
            | Action recipe `active` field required | api.NotNull.active |  none |
            | Action recipe `actions` field required | api.NotNull.actions | none |
            | Action recipe `actions[*].type` field required | api.NotNull.actions[*].type | none |
            | Action recipe `userId` field has invalid size | api.Size.userId | none |
            | Action recipe `specificationId` field has invalid size | api.Size.specificationId | none |
            | Action recipe `actions` field has invalid size | api.Size.actions | none |
            | Action recipe `arrangementId` field has invalid size | api.Size.arrangementId |  none |
            | Action recipe `name` field has invalid size | api.Size.name | none |
            | Action recipe `actions[*].type` field has invalid size | api.Size.actions[*].type | none |
            | Unrecognized specification: 123 |actions.api.specification.missing|  specificationId:123 |
            | Source account cannot be equal to the destination account (only for rounding rule) |none| none |
            | Arrangements should have same currency! (only for rounding rule) |none| none |
            | Target arrangement cannot be null for rounding rule recipe (only for rounding rule) |none| none |
            | Source arrangement cannot be null for rounding rule recipe (only for rounding rule) |none| none |
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestError'
              example:
                $ref: '#/components/examples/BadRequestError'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnauthorizedError'
              example:
                $ref: '#/components/examples/UnauthorizedError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ForbiddenError'
              example:
                $ref: '#/components/examples/ForbiddenError'
      x-BbAccessControl-resource: Actions
      x-BbAccessControl-function: Manage Action Recipes
      x-BbAccessControl-privilege: 'view, create'
  '/client-api/v2/action-recipes/{recipeId}':
    summary: ActionRecipe
    description: Endpoint to manipulate a specific recipe
    get:
      tags:
        - action-recipes
      description: |-
        Retrieves the specified action recipe. Caller must have the following permissions:

         - Privileges: `view`
         - Business function: `Manage Action Recipes`
      operationId: getActionRecipe
      responses:
        '200':
          description: Ok
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ActionRecipeGetResponseBody'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnauthorizedError'
              example:
                $ref: '#/components/examples/UnauthorizedError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ForbiddenError'
              example:
                $ref: '#/components/examples/ForbiddenError'
        '404':
          description: NotFound
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFoundError'
              example:
                $ref: '#/components/examples/NotFoundError'
      x-BbAccessControl-resource: Actions
      x-BbAccessControl-function: Manage Action Recipes
      x-BbAccessControl-privilege: view
    put:
      tags:
        - action-recipes
      description: |-
        Updates the specified action recipe. Caller must have the following permissions: 

         - Privileges: `view`, `edit`
         - Business function: `Manage Action Recipes`

        Additionally, arrangement validation takes place in two cases:

         - If the action recipe belongs to an action recipe specification with the category `arrangementBased` 
         - Deprecated. If the action recipe belongs to an action recipe specification with an ID `1` or `4` if there is no category specified
         
        Arrangement validation implies verification that the logged-in user has the `view` privilege for the `Product Summary` business function for the `arrangement` specified in the action recipe that needs to be updated.
      operationId: putActionRecipe
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ActionRecipePutRequestBody'
      responses:
        '202':
          description: Accepted
          content:
            application/json:
              example: {}
        '400':
          description: |
            Either:

            * Request does not honor the contract, check the example in the Request tab.
            * There was one of the following logic errors resulting from the spec generation:

            | Message | key | context |
            --- | --- | ---
            | Action recipe `active` field required | api.NotNull.active |  none |
            | Action recipe `actions` field required | api.NotNull.actions |  none |
            | Action recipe `actions[*].type` field required | api.NotNull.actions[*].type | none |
            | Action recipe `arrangementId` field has invalid size | api.Size.arrangementId |  none |
            | Action recipe `name` field has invalid size | api.Size.name |  none |
            | Action recipe `actions[*].type` field has invalid size | api.Size.actions[*].type |  none |
            | Source account cannot be equal to the destination account (only for rounding rule) |none| none |
            | Target arrangement cannot be null for rounding rule recipe (only for rounding rule) |none| none |
            | Source arrangement cannot be null for rounding rule recipe (only for rounding rule) |none| none |
            | Arrangements should have same currency! (only for rounding rule) |none| none |
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestError'
              example:
                $ref: '#/components/examples/BadRequestError'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnauthorizedError'
              example:
                $ref: '#/components/examples/UnauthorizedError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ForbiddenError'
              example:
                $ref: '#/components/examples/ForbiddenError'
        '404':
          description: NotFound
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFoundError'
              example:
                $ref: '#/components/examples/NotFoundError'
      x-BbAccessControl-resource: Actions
      x-BbAccessControl-function: Manage Action Recipes
      x-BbAccessControl-privilege: 'view, edit'
    delete:
      tags:
        - action-recipes
      description: |-
        Removes the specified action recipe. Caller must have the following permissions:

         - Privileges: `view`, `delete`
         - Business function: `Manage Action Recipes`

        Additionally, arrangement validation takes place in two cases:

         - If the action recipe belongs to an action recipe specification with the category `arrangementBased` 
         - Deprecated. If the action recipe belongs to an action recipe specification with an ID `1` or `4` if there is no category specified
         
        Arrangement validation implies verification that the logged-in user has the `view` privilege for the `Product Summary` business function for the `arrangement` specified in the action recipe that needs to be deleted.
      operationId: deleteActionRecipe
      responses:
        '202':
          description: Accepted
          content:
            application/json:
              example: {}
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnauthorizedError'
              example:
                $ref: '#/components/examples/UnauthorizedError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ForbiddenError'
              example:
                $ref: '#/components/examples/ForbiddenError'
        '404':
          description: NotFound
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFoundError'
              example:
                $ref: '#/components/examples/NotFoundError'
      x-BbAccessControl-resource: Actions
      x-BbAccessControl-function: Manage Action Recipes
      x-BbAccessControl-privilege: 'view, delete'
    parameters:
      - name: recipeId
        in: path
        required: true
        schema:
          type: string
        examples:
          newTransaction:
            summary: newTransaction
            value:
              $ref: '#/components/examples/RecipeIdNewTransaction'
          accountLowBalance:
            summary: accountLowBalance
            value:
              $ref: '#/components/examples/RecipeIdAccountLowBalance'
  '/client-api/v2/action-recipes/{recipeId}/activation-request':
    summary: ActivationRequest
    post:
      tags:
        - action-recipes
      description: |-
        Activates the specified action recipe. Caller must have the following permissions:

         - Privileges: `view`, `execute`
         - Business function: `Manage Action Recipes`
         
        The permission check could be switched off by setting the parameter `backbase.access-control.enabled` to `false`.

        Additionally, arrangement validation takes place in two cases:

         - If the action recipe belongs to an action recipe specification with the category `arrangementBased` 
         - Deprecated. If the action recipe belongs to an action recipe specification with an ID `1` or `4` if there is no category specified
         
        Arrangement validation implies verification that the logged-in user has the `view` privilege for the `Product Summary` business function for the `arrangement` specified in the action recipe that needs to be activated.
      operationId: postActivationRequest
      responses:
        '202':
          description: Accepted
          content:
            application/json:
              example: {}
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnauthorizedError'
              example:
                $ref: '#/components/examples/UnauthorizedError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ForbiddenError'
              example:
                $ref: '#/components/examples/ForbiddenError'
        '404':
          description: NotFound
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFoundError'
              example:
                $ref: '#/components/examples/NotFoundError'
      x-BbAccessControl-resource: Actions
      x-BbAccessControl-function: Manage Action Recipes
      x-BbAccessControl-privilege: 'view, execute'
    parameters:
      - name: recipeId
        in: path
        required: true
        schema:
          type: string
        examples:
          newTransaction:
            summary: newTransaction
            value:
              $ref: '#/components/examples/RecipeIdNewTransaction'
          accountLowBalance:
            summary: accountLowBalance
            value:
              $ref: '#/components/examples/RecipeIdAccountLowBalance'
  '/client-api/v2/action-recipes/{recipeId}/deactivation-request':
    summary: DeactivationRequest
    post:
      tags:
        - action-recipes
      description: |-
        Deactivates the specified action recipe. Caller must have the following permissions:

         - Privileges: `view`, `execute` 
         - Business function: `Manage Action Recipes`
         
        The permission check could be switched off by setting the parameter `backbase.access-control.enabled` to `false`.

        Additionally, arrangement validation takes place in two cases:

         - If the action recipe belongs to an action recipe specification with the category `arrangementBased` 
         - Deprecated. If the action recipe belongs to an action recipe specification with an ID `1` or `4` if there is no category specified
         
        Arrangement validation implies verification that the logged-in user has the `view` privilege for the `Product Summary` business function for the `arrangement` specified in the action recipe that needs to be deactivated.
      operationId: postDeactivationRequest
      responses:
        '202':
          description: Accepted
          content:
            application/json:
              example: {}
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnauthorizedError'
              example:
                $ref: '#/components/examples/UnauthorizedError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ForbiddenError'
              example:
                $ref: '#/components/examples/ForbiddenError'
        '404':
          description: NotFound
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFoundError'
              example:
                $ref: '#/components/examples/NotFoundError'
      x-BbAccessControl-resource: Actions
      x-BbAccessControl-function: Manage Action Recipes
      x-BbAccessControl-privilege: 'view, execute'
    parameters:
      - name: recipeId
        in: path
        required: true
        schema:
          type: string
        examples:
          newTransaction:
            summary: newTransaction
            value:
              $ref: '#/components/examples/RecipeIdNewTransaction'
          accountLowBalance:
            summary: accountLowBalance
            value:
              $ref: '#/components/examples/RecipeIdAccountLowBalance'
  /client-api/v2/action-recipes/history:
    summary: ActionsHistory
    description: Endpoint for retrieving action recipes history for the logged-in user
    get:
      tags:
        - action-recipes
      description: Retrieves the history of all actions for the logged-in user.
      operationId: getActionsHistory
      parameters:
        - name: offset
          in: query
          description: Represents a number of page
          required: false
          schema:
            type: integer
            format: int32
            default: 0
          example:
            $ref: '#/components/examples/Offset'
        - name: limit
          in: query
          description: Represents a page size
          required: false
          schema:
            type: integer
            format: int32
            default: 10
          example:
            $ref: '#/components/examples/Limit'
      responses:
        '200':
          description: Ok
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ActionsHistoryGetResponseBody'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ForbiddenError'
              example:
                $ref: '#/components/examples/ForbiddenError'
  '/client-api/v2/action-recipes/history/{userId}':
    summary: ActionsHistory
    description: Endpoint for retrieving action recipes history for CSR users by user ID
    get:
      tags:
        - action-recipes
      description: |-
        Retrieves the alerts history records by target user ID. Caller must have the following permissions:

         - Privileges: `view`
         - Business function: `Access Actions History`
         
        The permission check could be switched off by setting the parameter `backbase.access-control.enabled` to `false`.
      operationId: getActionsHistoryByUser
      parameters:
        - name: serviceAgreementId
          in: query
          description: Service agreement ID of business user.
          required: false
          schema:
            type: string
        - name: offset
          in: query
          description: Represents a number of page
          required: false
          schema:
            type: integer
            format: int32
            default: 0
          example:
            $ref: '#/components/examples/Offset'
        - name: limit
          in: query
          description: Represents a page size
          required: false
          schema:
            type: integer
            format: int32
            default: 10
          example:
            $ref: '#/components/examples/Limit'
      responses:
        '200':
          description: Ok
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ActionsHistoryGetResponseBody'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ForbiddenError'
              example:
                $ref: '#/components/examples/ForbiddenError'
        '404':
          description: NotFound
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFoundError'
              example:
                $ref: '#/components/examples/NotFoundError'
      x-BbAccessControl-resource: Actions
      x-BbAccessControl-function: Access Action History
      x-BbAccessControl-privilege: view
    parameters:
      - name: userId
        in: path
        required: true
        schema:
          type: string
  /client-api/v2/action-recipes/payment-types:
    summary: PaymentTypes
    description: Endpoint for retrieving all available payment types for the logged-in user
    get:
      tags:
        - action-recipes
      description: Retrieves all available payment types for the logged-in user.
      operationId: getPaymentTypes
      responses:
        '200':
          description: Ok
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaymentTypesGetResponseBody'
  /client-api/v2/action-recipes/payment-statuses:
    summary: PaymentStatuses
    description: Endpoint for retrieving all available payment statuses
    get:
      tags:
        - action-recipes
      operationId: getPaymentStatuses
      description: Retrieves all available payment statuses.
      responses:
        '200':
          description: Ok
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaymentStatusesGetResponseBody'
  /client-api/v2/action-recipes/batch:
    summary: BatchProcessing
    description: Endpoint for batch action recipes processing
    put:
      tags:
        - action-recipes
      description: |-
        Upserts action recipes in batch. Single endpoint for an update/insert multiple action recipes.

        The action recipe will be created if it has no ID. When the action recipe has an ID, it will be updated.

        The `specificationId` is taken into account only for action recipe creation. There is no ability to update the `specificationId` 
        field so it should be the same as in the original recipe.

        Caller must have the following permissions: 

         - Privileges: `view`, `create`, `edit`
         - Business function: `Manage Action Recipes`
         
        The permission check could be switched off by setting the parameter `backbase.access-control.enabled` to `false`.

        Additionally, arrangement validation takes place when the action recipe belongs to an action recipe specification with the category `arrangementBased`.
         
        Arrangement validation implies verification that the logged-in user has the `view` privilege for the `Product Summary` business function for the `arrangement` specified in the action recipe object.
      operationId: putBatchProcessing
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BatchProcessingPutRequestBody'
      responses:
        '200':
          description: Ok
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BatchProcessingPutResponseBody'
        '400':
          description: |-
            Either:

            * Request for one of Action Recipe does not honor the contract, check the example in the Request tab.
            * There was one of the following logic errors resulting from the spec generation:

            | Message | key | context |
            --- | --- | ---
            | Action recipe (id = , specificationId = ) `specificationId` field required | api.NotNull.specificationId | none |
            | Action recipe (id = , specificationId = ) `active` field required | api.NotNull.active |  none |
            | Action recipe (id = , specificationId = ) `actions` field required | api.NotNull.actions | none |
            | Action recipe (id = , specificationId = ) `actions[*].type` field required | api.NotNull.actions[*].type | none |
            | Action recipe (id = , specificationId = ) `userId` field has invalid size | api.Size.userId | none |
            | Action recipe (id = , specificationId = ) `specificationId` field has invalid size | api.Size.specificationId | none |
            | Action recipe (id = , specificationId = ) `actions` field has invalid size | api.Size.actions | none |
            | Action recipe (id = , specificationId = ) `arrangementId` field has invalid size | api.Size.arrangementId |  none |
            | Action recipe (id = , specificationId = ) `name` field has invalid size | api.Size.name | none |
            | Action recipe (id = , specificationId = ) `actions[*].type` field has invalid size | api.Size.actions[*].type | none |
            | Unrecognized specification: 123 |actions.api.specification.missing|  specificationId:123 |
            | Source account cannot be equal to the destination account (only for rounding rule) |none| none |
            | Action recipe (id = , specificationId = ) arrangements should have same currency! (only for rounding rule) |none| none |
            | Action recipe (id = , specificationId = ) target arrangement cannot be null for rounding rule recipe (only for rounding rule) |none| none |
            | Action recipe (id = , specificationId = ) source arrangement cannot be null for rounding rule recipe (only for rounding rule) |none| none |
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestError'
              example:
                $ref: '#/components/examples/BadRequestError'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnauthorizedError'
              example:
                $ref: '#/components/examples/UnauthorizedError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ForbiddenError'
              example:
                $ref: '#/components/examples/ForbiddenError'
        '404':
          description: NotFound
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFoundError'
              example:
                $ref: '#/components/examples/NotFoundError'
      x-BbAccessControl-resource: Actions
      x-BbAccessControl-function: Manage Action Recipes
      x-BbAccessControl-privilege: 'view, create, edit'
components:
  schemas:
    ActionEventsHistory:
      type: object
      properties:
        alertName:
          type: string
        deliveryMethod:
          type: string
        destinations:
          type: array
          description: List of emails/sms/userId (with optional serviceAgreementId) depends on delivery method
          items:
            type: string
        alertDate:
          type: string
          format: date-time
        alertText:
          type: string
        additions:
          description: Additional properties
          type: object
          additionalProperties:
            type: string
      description: Actions history
    ActionParent:
      type: object
      properties:
        type:
          maxLength: 64
          minLength: 1
          type: string
        destination:
          type: object
          additionalProperties:
            type: string
        additions:
          description: Additional properties
          type: object
          additionalProperties:
            type: string
      required:
        - type
      description: Action entity
    Action:
      properties:
        enabled:
          type: boolean
      description: Action entity
      allOf:
        - $ref: '#/components/schemas/ActionParent'
    ActionRecipeGetResponseBody:
      properties:
        id:
          maxLength: 64
          minLength: 1
          type: string
        userId:
          maxLength: 64
          minLength: 1
          type: string
        specificationId:
          maxLength: 64
          minLength: 1
          type: string
        actions:
          type: array
          items:
            $ref: '#/components/schemas/Action'
        amount:
          type: string
          minimum: -1000000000000000000
          exclusiveMinimum: true
          maximum: 1000000000000000000
          exclusiveMaximum: true
        arrangementId:
          maxLength: 64
          minLength: 1
          type: string
        createdOn:
          type: string
          format: date-time
        recurrence:
          $ref: '#/components/schemas/Recurrence'
      required:
        - actions
        - id
        - specificationId
      description: Action recipe entity
      allOf:
        - $ref: '#/components/schemas/ActionRecipeItemParent'
      example:
        id: '1'
        name: Transaction > 100 EUR
        active: true
        specificationId: '1'
        userId: kjordan
        actions:
          - type: notification
            enabled: true
          - type: email
            enabled: false
          - type: sms
            enabled: false
          - type: push
            enabled: true
        amount: '100'
        arrangementId: '123'
    ActionRecipe:
      type: object
      description: Action recipe entity
      properties:
        id:
          maxLength: 64
          minLength: 1
          type: string
        userId:
          maxLength: 64
          minLength: 1
          type: string
        specificationId:
          maxLength: 64
          minLength: 1
          type: string
        actions:
          type: array
          items:
            $ref: '#/components/schemas/Action'
        amount:
          type: string
          minimum: -1000000000000000000
          exclusiveMinimum: true
          maximum: 1000000000000000000
          exclusiveMaximum: true
        arrangementId:
          maxLength: 64
          minLength: 1
          type: string
        createdOn:
          type: string
          format: date-time
        recurrence:
          $ref: '#/components/schemas/Recurrence'
      required:
        - actions
        - id
        - specificationId
      allOf:
        - $ref: '#/components/schemas/ActionRecipeItemParent'
    ActionRecipeItemParent:
      type: object
      description: Action recipe parent entity containing common action recipe properties
      properties:
        name:
          maxLength: 200
          minLength: 1
          type: string
        active:
          type: boolean
        additions:
          description: Additional properties
          type: object
          additionalProperties:
            type: string
      required:
        - active
    ActionRecipePutRequestBody:
      required:
        - actions
      properties:
        actions:
          type: array
          minItems: 1
          maxItems: 10
          items:
            $ref: '#/components/schemas/ActionParent'
        amount:
          type: string
          minimum: -1000000000000000000
          exclusiveMinimum: true
          maximum: 1000000000000000000
          exclusiveMaximum: true
        arrangementId:
          maxLength: 64
          minLength: 1
          type: string
        recurrence:
          $ref: '#/components/schemas/Recurrence'
      description: Action recipe entity
      allOf:
        - $ref: '#/components/schemas/ActionRecipeItemParent'
      example:
        newTransaction:
          name: Transaction > 100 EUR
          active: true
          actions:
            - type: notification
          amount: '100'
          arrangementId: '123'
          recurrence:
            daysOfWeek:
              - MON
              - THU
            hoursOfDay:
              - '8'
              - '13'
              - '17'
        accountLowBalance:
          name: Account Low Balance < 1000 EUR
          active: true
          actions:
            - type: notification
          amount: '1000'
          arrangementId: '123'
    ActionRecipesGetResponseBody:
      type: object
      properties:
        totalCount:
          type: integer
          format: int64
          description: Represents a total number of action recipes available across all pages
        actionRecipes:
          type: array
          description: Represents a list of action recipes for a page
          items:
            $ref: '#/components/schemas/ActionRecipe'
        additions:
          description: Additional properties
          type: object
          additionalProperties:
            type: string
      required:
        - actionRecipes
        - totalCount
      description: Represents a response to a 'GET action recipes' request
      example:
        totalCount: 20
        actionRecipes:
          - id: '1'
            name: Transaction > 100 EUR
            active: true
            specificationId: '1'
            userId: kjordan
            actions:
              - type: notification
                enabled: true
              - type: email
                enabled: false
              - type: sms
                enabled: false
              - type: push
                enabled: true
            amount: '100'
            arrangementId: 1cdb2224-8926-4b4d-a99f-1c9dfbbb4691
            createdOn: '2020-01-17T12:52:34.000+0000'
          - id: '2'
            name: Account Low Balance < 1000 EUR
            active: true
            specificationId: '4'
            userId: kjordan
            actions:
              - type: notification
                enabled: true
              - type: email
                enabled: false
              - type: sms
                enabled: false
              - type: push
                enabled: true
            amount: '300'
            arrangementId: 1cdb2224-8926-4b4d-a99f-1c9dfbbb4691
            createdOn: '2020-01-17T12:52:34.000+0000'
          - id: '3'
            name: Transaction > 300 EUR
            active: true
            specificationId: '1'
            userId: kjordan
            actions:
              - type: notification
                enabled: true
              - type: email
                enabled: false
              - type: sms
                enabled: false
              - type: push
                enabled: true
            amount: '300'
            arrangementId: 3cdb2224-8926-4b4d-a99f-1c9dfbbb4600
            createdOn: '2020-01-17T12:52:34.000+0000'
          - id: '4'
            name: Account Low Balance < 1000 EUR
            active: true
            specificationId: '4'
            userId: kjordan
            actions:
              - type: notification
                enabled: true
              - type: email
                enabled: false
              - type: sms
                enabled: false
              - type: push
                enabled: true
            amount: '300'
            arrangementId: 1cdb2224-8926-4b4d-a99f-1c9dfbbb4692
            createdOn: '2020-01-17T12:52:34.000+0000'
          - id: '5'
            name: Transaction > 100 EUR
            active: true
            specificationId: '1'
            userId: kjordan
            actions:
              - type: notification
                enabled: true
              - type: email
                enabled: false
              - type: sms
                enabled: false
              - type: push
                enabled: true
            amount: '100'
            arrangementId: 3cdb2224-8926-4b4d-a99f-1c9dfbbb4600
            createdOn: '2020-01-17T12:52:34.000+0000'
          - id: '6'
            name: Rounding rule
            active: false
            specificationId: '3'
            userId: kjordan
            actions:
              - type: payment
                enabled: true
            arrangementId: 1cdb2224-8926-4b4d-a99f-1c9dfbbb4691
            createdOn: '2020-01-17T12:52:34.000+0000'
            additions:
              targetArrangementId: 6cdb2224-8926-4b4d-a99f-1c9dfbbb4699
          - id: '7'
            name: Account Low Balance < 1000 EUR
            active: true
            specificationId: '4'
            userId: kjordan
            actions:
              - type: notification
                enabled: true
              - type: email
                enabled: false
              - type: sms
                enabled: false
              - type: push
                enabled: true
            amount: '300'
            arrangementId: 1cdb2224-8926-4b4d-a99f-1c9dfbbb4692
            createdOn: '2020-01-17T12:52:34.000+0000'
          - id: '8'
            name: Transaction > 100 EUR
            active: true
            specificationId: '1'
            userId: kjordan
            actions:
              - type: notification
                enabled: true
              - type: email
                enabled: false
              - type: sms
                enabled: false
              - type: push
                enabled: true
            amount: '100'
            arrangementId: 1cdb2224-8926-4b4d-a99f-1c9dfbbb4699
            createdOn: '2020-01-17T12:52:34.000+0000'
          - id: '9'
            name: Account Low Balance < 1000 EUR
            active: true
            specificationId: '4'
            userId: kjordan
            actions:
              - type: notification
                enabled: true
              - type: email
                enabled: false
              - type: sms
                enabled: false
              - type: push
                enabled: true
            amount: '300'
            arrangementId: 6cdb2224-8926-4b4d-a99f-1c9dfbbb4699
            createdOn: '2020-01-17T12:52:34.000+0000'
          - id: '10'
            name: Transaction > 100 EUR
            active: true
            specificationId: '1'
            userId: kjordan
            actions:
              - type: notification
                enabled: true
              - type: email
                enabled: false
              - type: sms
                enabled: false
              - type: push
                enabled: true
            amount: '100'
            arrangementId: 3cdb2224-8926-4b4d-a99f-1c9dfbbb4699
            createdOn: '2020-01-17T12:52:34.000+0000'
          - id: '11'
            name: Account Low Balance < 1000 EUR
            active: true
            specificationId: '4'
            userId: kjordan
            actions:
              - type: notification
                enabled: true
              - type: email
                enabled: false
              - type: sms
                enabled: false
              - type: push
                enabled: true
            amount: '300'
            arrangementId: 1cdb2224-8926-4b4d-a99f-1c9dfbbb4699
            createdOn: '2020-01-16T12:52:34.000+0000'
          - id: '12'
            name: Transaction > 100 EUR
            active: true
            specificationId: '1'
            userId: kjordan
            actions:
              - type: notification
                enabled: true
              - type: email
                enabled: false
              - type: sms
                enabled: false
              - type: push
                enabled: true
            amount: '100'
            arrangementId: 6cdb2224-8926-4b4d-a99f-1c9dfbbb4699
            createdOn: '2020-01-16T12:52:34.000+0000'
          - id: '13'
            name: Account Low Balance < 1000 EUR
            active: true
            specificationId: '4'
            userId: kjordan
            actions:
              - type: notification
                enabled: true
              - type: email
                enabled: false
              - type: sms
                enabled: false
              - type: push
                enabled: true
            amount: '300'
            arrangementId: 3cdb2224-8926-4b4d-a99f-1c9dfbbb4699
            createdOn: '2020-01-16T12:52:34.000+0000'
          - id: '14'
            name: Transaction > 100 EUR
            active: true
            specificationId: '1'
            userId: kjordan
            actions:
              - type: notification
                enabled: true
              - type: email
                enabled: false
              - type: sms
                enabled: false
              - type: push
                enabled: true
            amount: '100'
            arrangementId: 1cdb2224-8926-4b4d-a99f-1c9dfbbb4699
            createdOn: '2020-01-16T12:52:34.000+0000'
          - id: '15'
            name: Account Low Balance < 1000 EUR
            active: true
            specificationId: '4'
            userId: kjordan
            actions:
              - type: notification
                enabled: true
              - type: email
                enabled: false
              - type: sms
                enabled: false
              - type: push
                enabled: true
            amount: '300'
            arrangementId: 6cdb2224-8926-4b4d-a99f-1c9dfbbb4699
            createdOn: '2020-01-16T12:52:34.000+0000'
          - id: '16'
            name: Rounding rule Example
            active: true
            specificationId: '3'
            userId: kjordan
            actions:
              - type: payment
                enabled: true
            arrangementId: 3cdb2224-8926-4b4d-a99f-1c9dfbbb4600
            createdOn: '2020-01-16T12:52:34.000+0000'
            additions:
              targetArrangementId: 1cdb2224-8926-4b4d-a99f-1c9dfbbb4699
          - id: '17'
            name: Payment Status Rejected
            active: false
            specificationId: '5'
            userId: kjordan
            actions:
              - type: notification
                enabled: true
              - type: push
                enabled: true
            createdOn: '2020-01-16T12:52:34.000+0000'
            additions:
              paymentStatuses: rejected
          - id: '18'
            name: Payment Status Rejected
            active: true
            specificationId: '5'
            userId: kjordan
            actions:
              - type: notification
                enabled: true
              - type: push
                enabled: true
            createdOn: '2020-01-16T12:52:34.000+0000'
            additions:
              paymentStatuses: rejected
          - id: '19'
            name: Contact Status Rejected
            active: false
            specificationId: '6'
            userId: kjordan
            actions:
              - type: notification
                enabled: false
              - type: push
                enabled: true
            createdOn: '2020-01-16T12:52:34.000+0000'
            additions:
              partyStatuses: rejected
          - id: '20'
            name: Contact Status Rejected
            active: true
            specificationId: '6'
            userId: kjordan
            actions:
              - type: notification
                enabled: true
              - type: push
                enabled: true
            createdOn: '2020-01-16T12:52:34.000+0000'
            additions:
              partyStatuses: rejected
    ActionRecipeSpecification:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        type:
          type: string
        category:
          type: string
        userDefinable:
          type: boolean
        origin:
          type: string
        actions:
          type: array
          items:
            $ref: '#/components/schemas/SpecificationAction'
        digestEnabled:
          type: boolean
        recipeDefaults:
          $ref: '#/components/schemas/ActionRecipeSpecificationDefaults'
        additions:
          description: Additional properties
          type: object
          additionalProperties:
            type: string
      description: Action recipe specification entity
    ActionRecipeSpecificationDefaults:
      type: object
      properties:
        amount:
          type: string
          minimum: -1000000000000000000
          exclusiveMinimum: true
          maximum: 1000000000000000000
          exclusiveMaximum: true
        actions:
          type: array
          items:
            $ref: '#/components/schemas/SpecificationAction'
        additions:
          description: Additional properties
          type: object
          additionalProperties:
            type: string
      description: Action recipe default entityces/schemas/specification-action-item.yaml
    ActionRecipeSpecificationsGetResponseBody:
      type: object
      properties:
        actionRecipeSpecifications:
          type: array
          items:
            $ref: '#/components/schemas/ActionRecipeSpecification'
        additions:
          description: Additional properties
          type: object
          additionalProperties:
            type: string
      description: Response to GET action recipe specifications request
      example:
        actionRecipeSpecifications:
          - id: '1'
            name: New Transaction
            userDefinable: true
            origin: Transaction
            type: newTransaction
            category: arrangementBased
            actions:
              - type: notification
                severityLevel: INFO
                route:
                  whereTo: transaction-view
                  dataTemplate: '{"id": "${transactions[0].id}", "arrangementId": "${transactions[0].arrangementId}"}'
                templates:
                  - locale: en-US
                    kind: REGULAR
                    path: /pathto/template
                    repository: repository_id
                  - locale: en-US
                    kind: DIGEST
                    path: /pathto/template
                    repository: repository_id
              - type: email
                templates:
                  - locale: en-US
                    kind: REGULAR
                    path: /pathto/template
                    repository: repository_id
                  - locale: en-US
                    kind: DIGEST
                    path: /pathto/template
                    repository: repository_id
              - type: sms
                templates:
                  - locale: en-US
                    kind: REGULAR
                    path: /pathto/template
                    repository: repository_id
                  - locale: en-US
                    kind: DIGEST
                    path: /pathto/template
                    repository: repository_id
              - type: push
                severityLevel: INFO
                route:
                  whereTo: transaction-view
                  dataTemplate: '{"id": "${transactions[0].id}", "arrangementId": "${transactions[0].arrangementId}"}'
                templates:
                  - locale: en-US
                    kind: REGULAR
                    path: /pathto/template
                    repository: repository_id
                  - locale: en-US
                    kind: DIGEST
                    path: /pathto/template
                    repository: repository_id
            digestEnabled: true
            recipeDefaults:
              amount: '0'
              actions:
                - type: notification
                - type: push
          - id: '4'
            name: Account Low Balance
            userDefinable: true
            type: accountLowBalance
            category: arrangementBased
            actions:
              - type: notification
              - type: email
              - type: sms
              - type: push
            digestEnabled: false
            recipeDefaults:
              amount: '200'
              actions:
                - type: notification
                - type: push
              additions:
                type: Cash Withdraw
          - id: '5'
            name: Payment Status Updated
            userDefinable: true
            type: paymentStatusUpdated
            category: paymentStatusBased
            actions:
              - type: notification
              - type: push
            digestEnabled: true
            recipeDefaults:
              actions:
                - type: notification
                - type: push
          - id: '6'
            name: Party Status Updated
            userDefinable: true
            type: partyStatusUpdated
            category: partyStatusBased
            actions:
              - type: notification
              - type: push
            digestEnabled: false
            recipeDefaults:
              actions:
                - type: notification
                - type: push
          - id: '8'
            name: Saving goal
            type: savingGoal
            category: userBased
            userDefinable: true
            actions:
              - type: notification
              - type: push
            digestEnabled: false
          - id: '9'
            name: Account statement is ready
            type: accountStatementIsReady
            category: arrangementBased
            userDefinable: true
            actions:
              - type: email
              - type: notification
              - type: push
            digestEnabled: false
          - id: '10'
            name: Account Low Balance Business
            type: accountLowBalance
            category: arrangementBased
            userDefinable: true
            actions:
              - type: notification
              - type: push
            digestEnabled: false
            recipeDefaults:
              amount: '0'
              actions:
                - type: notification
                - type: push
          - id: '13'
            name: Payment to approve
            type: paymentToApprove
            category: paymentResourceBased
            digestEnabled: false
            recipeDefaults:
              actions:
                - type: notification
                - type: push
              additions:
                resource: Payments
          - id: '14'
            name: Contact to approve
            type: contactToApprove
            category: contactResourceBased
            digestEnabled: false
            recipeDefaults:
              actions:
                - type: notification
                - type: push
              additions:
                resource: Contacts
    ActionRecipesPostResponseBody:
      type: object
      properties:
        id:
          type: string
        additions:
          description: Additional properties
          type: object
          additionalProperties:
            type: string
      description: Response to POST action recipes request
      example:
        id: e92bbe7d-10cf-4d7c-b7b5-eadb7632812a
    ActionRecipesPostRequestBody:
      description: Expected body of POST action recipes request
      required:
        - actions
        - specificationId
      properties:
        userId:
          maxLength: 64
          minLength: 1
          type: string
        specificationId:
          maxLength: 64
          minLength: 1
          type: string
        actions:
          type: array
          minItems: 1
          maxItems: 10
          items:
            $ref: '#/components/schemas/ActionParent'
        amount:
          type: string
          minimum: -1000000000000000000
          exclusiveMinimum: true
          maximum: 1000000000000000000
          exclusiveMaximum: true
        arrangementId:
          maxLength: 64
          minLength: 1
          type: string
        recurrence:
          $ref: '#/components/schemas/Recurrence'
      allOf:
        - $ref: '#/components/schemas/ActionRecipeItemParent'
      example:
        newTransaction:
          name: TransactionExecuted for 333
          specificationId: '1'
          active: true
          actions:
            - type: notification
          amount: '100'
          arrangementId: '123'
          recurrence:
            daysOfWeek:
              - MON
              - FRI
            hoursOfDay:
              - '9'
              - '17'
        newTransactionQuartzExpression:
          name: TransactionExecuted for 777
          specificationId: '1'
          active: true
          actions:
            - type: push
          amount: '200'
          arrangementId: '321'
          recurrence:
            quartzExpression: '0 0 9,17 ? * MON,FRI *'
        accountLowBalance:
          name: Account Low Balance &lt; 1000
          specificationId: '2'
          active: true
          actions:
            - type: notification
          amount: '1000'
          arrangementId: '123'
    ActionsHistoryGetResponseBody:
      type: object
      properties:
        actionEventsHistory:
          type: array
          description: List of actions history
          items:
            $ref: '#/components/schemas/ActionEventsHistory'
        additions:
          description: Additional properties
          type: object
          additionalProperties:
            type: string
      description: Represents a response to a 'GET actions history' request
      example:
        actionEventsHistory:
          - alertName: Low balance alert
            deliveryMethod: sms
            alertDate: '2019-12-16T19:35:05.000+0000'
            alertText: Warning! Your account balance is below 20 EUR.
            destinations:
              - '+380987654321'
              - '+380123456789'
          - alertName: Low balance alert
            deliveryMethod: email
            alertDate: '2019-12-16T19:25:05.000+0000'
            alertText: Warning! Your account balance is below 20 EUR.
            destinations:
              - user@domain.com
              - resu@domain.com
          - alertName: Low balance alert
            deliveryMethod: notification
            alertDate: '2019-12-16T19:15:05.000+0000'
            alertText: Warning! Your account balance is below 20 EUR.
            destinations:
              - User id - 'userId'
          - alertName: Party status updated alert
            deliveryMethod: notification
            alertDate: '2019-12-16T19:10:05.000+0000'
            alertText: Your contact 'Sarah' is active. You can find this in 'My Requests'
            destinations:
              - 'User id - ''Sarah'', Service agreement id - ''2b5b4bff-4135-4d18-b3fc-eb86d647dccd'''
    BatchProcessingPutResponseBody:
      type: object
      properties:
        actionRecipes:
          type: array
          description: Represents a list of action recipes that was be updated or created
          items:
            $ref: '#/components/schemas/ActionRecipe'
        additions:
          description: Additional properties
          type: object
          additionalProperties:
            type: string
      required:
        - actionRecipes
      description: Represents a response to a 'Upsert action recipes' request
      example:
        actionRecipes:
          - id: '1'
            name: TransactionExecuted for User
            active: true
            specificationId: '1'
            userId: kjordan
            actions:
              - type: notification
                enabled: true
              - type: email
                enabled: false
              - type: sms
                enabled: false
            amount: '100'
            arrangementId: 1cdb2224-8926-4b4d-a99f-1c9dfbbb4699
            createdOn: '2020-03-18T11:36:02.000+0000'
            recurrence:
              daysOfWeek:
                - MON
                - FRI
              hoursOfDay:
                - '9'
                - '17'
              quartzExpression: '0 0 9,17 ? * MON,FRI *'
          - id: '2'
            name: Account Low Balance < 1000 EUR
            active: true
            specificationId: '4'
            userId: kjordan
            actions:
              - type: notification
                enabled: false
              - type: email
                enabled: true
              - type: sms
                enabled: false
            amount: '300'
            arrangementId: 6cdb2224-8926-4b4d-a99f-1c9dfbbb4699
            createdOn: '2020-03-18T11:36:02.000+0000'
    BatchProcessingPutRequestBody:
      required:
        - actionRecipes
      type: object
      properties:
        actionRecipes:
          type: array
          description: Represents a list of action recipes to be updated or created
          items:
            $ref: '#/components/schemas/BatchRecipe'
        additions:
          description: Additional properties
          type: object
          additionalProperties:
            type: string
      description: Expected body of batch action recipes upsert request
      example:
        actionRecipes:
          - id: '1'
            name: TransactionExecuted for User
            active: true
            specificationId: '1'
            userId: kjordan
            actions:
              - type: notification
              - type: email
              - type: sms
            amount: '100'
            arrangementId: 1cdb2224-8926-4b4d-a99f-1c9dfbbb4699
            createdOn: '2020-03-18T11:36:02.000+0000'
            recurrence:
              daysOfWeek:
                - MON
                - FRI
              hoursOfDay:
                - '9'
                - '17'
              quartzExpression: '0 0 9,17 ? * MON,FRI *'
          - id: '2'
            name: Account Low Balance < 1000 EUR
            active: true
            specificationId: '4'
            userId: kjordan
            actions:
              - type: notification
              - type: email
              - type: sms
            amount: '300'
            arrangementId: 6cdb2224-8926-4b4d-a99f-1c9dfbbb4699
            createdOn: '2020-03-18T11:36:02.000+0000'
    BatchRecipe:
      required:
        - actions
        - specificationId
      properties:
        id:
          maxLength: 64
          minLength: 1
          type: string
        userId:
          maxLength: 64
          minLength: 1
          type: string
        specificationId:
          maxLength: 64
          minLength: 1
          type: string
        actions:
          type: array
          minItems: 1
          maxItems: 10
          items:
            $ref: '#/components/schemas/ActionParent'
        amount:
          type: string
          minimum: -1000000000000000000
          exclusiveMinimum: true
          maximum: 1000000000000000000
          exclusiveMaximum: true
        arrangementId:
          maxLength: 64
          minLength: 1
          type: string
        recurrence:
          $ref: '#/components/schemas/Recurrence'
      description: Action recipe entity
      allOf:
        - $ref: '#/components/schemas/ActionRecipeItemParent'
    PaymentStatusesGetResponseBody:
      type: object
      properties:
        paymentStatuses:
          type: array
          description: Represents a list of available payment statuses
          items:
            type: string
        additions:
          description: Additional properties
          type: object
          additionalProperties:
            type: string
      description: Represents a response to a 'GET payment types' request
      example:
        paymentStatuses:
          - DRAFT
          - ENTERED
          - READY
          - ACCEPTED
          - PROCESSED
          - REJECTED
          - CANCELLED
    PaymentTypesGetResponseBody:
      type: object
      properties:
        paymentTypes:
          type: array
          description: Represents a list of available payment types for a logged in user
          items:
            type: string
        additions:
          description: Additional properties
          type: object
          additionalProperties:
            type: string
      description: Represents a response to a 'GET payment types' request
      example:
        paymentTypes:
          - SEPA CT
          - US Domestic Wire
          - US Foreign Wire
    Recurrence:
      type: object
      properties:
        daysOfWeek:
          type: array
          description: List contains days of the week
          items:
            $ref: '#/components/schemas/DaysOfWeek'
        hoursOfDay:
          type: array
          description: List contains hours of the day
          items:
            $ref: '#/components/schemas/HoursOfDay'
        quartzExpression:
          type: string
          description: 'A Quartz expression conforming to the format described here: http://www.quartz-scheduler.org/documentation/quartz-2.3.0/tutorials/crontrigger.html. This field has higher priority than daysOfWeek and hoursOfDay fields.'
        additions:
          description: Additional properties
          type: object
          additionalProperties:
            type: string
      description: 'If this section is present/set, the action recipe becomes recurrent (executable according to user-defined schedule)'
    Route:
      type: object
      properties:
        whereTo:
          type: string
        dataTemplate:
          type: string
      description: Route object fields.
    DaysOfWeek:
      type: string
      enum:
        - MON
        - TUE
        - WED
        - THU
        - FRI
        - SAT
        - SUN
    EngagementJourneyTemplate:
      required:
        - locale
        - kind
        - path
        - repository
      type: object
      properties:
        locale:
          type: string
          description: Template locale
          maxLength: 5
        kind:
          type: string
          description: Kind of the template (regular or digest)
          maxLength: 36
        path:
          type: string
          description: Path to the template
          maxLength: 1024
        repository:
          type: string
          description: Repository identifier
          maxLength: 128
      description: Engagement journey template
    HoursOfDay:
      type: string
      enum:
        - '0'
        - '1'
        - '2'
        - '3'
        - '4'
        - '5'
        - '6'
        - '7'
        - '8'
        - '9'
        - '10'
        - '11'
        - '12'
        - '13'
        - '14'
        - '15'
        - '16'
        - '17'
        - '18'
        - '19'
        - '20'
        - '21'
        - '22'
        - '23'
    TemplateType:
      type: string
      description: Template type
      enum:
        - REGULAR
        - DIGEST
      default: REGULAR
    SpecificationAction:
      required:
        - type
      type: object
      properties:
        type:
          type: string
        severityLevel:
          type: string
        route:
          $ref: '#/components/schemas/Route'
        templates:
          type: array
          description: List of templates
          items:
            $ref: '#/components/schemas/EngagementJourneyTemplate'
        additions:
          description: Additional properties
          type: object
          additionalProperties:
            type: string
      description: Specification action entity
    ErrorItem:
      title: ErrorItem
      type: object
      properties:
        message:
          description: Any further information.
          type: string
        key:
          description: '{capability-name}.api.{api-key-name}. For generated validation errors this is the path in the document the error resolves to. e.g. object name + ''.'' + field'
          type: string
        context:
          description: Context can be anything used to construct localised messages.
          type: object
          additionalProperties:
            type: string
    BadRequestError:
      title: BadRequestError
      type: object
      properties:
        message:
          description: Any further information
          type: string
        errors:
          description: Detailed error information
          type: array
          items:
            $ref: '#/components/schemas/ErrorItem'
      required:
        - message
    ForbiddenError:
      title: ForbiddenError
      type: object
      properties:
        message:
          description: Any further information
          type: string
        errors:
          description: Detailed error information
          type: array
          items:
            $ref: '#/components/schemas/ErrorItem'
    NotFoundError:
      title: NotFoundError
      type: object
      properties:
        message:
          description: Any further information
          type: string
        errors:
          description: Detailed error information
          type: array
          items:
            $ref: '#/components/schemas/ErrorItem'
    UnauthorizedError:
      title: UnauthorizedError
      type: object
      properties:
        message:
          type: string
          description: Any further information
        errors:
          type: array
          description: Detailed error information
          items:
            $ref: '#/components/schemas/ErrorItem'
  examples:
    Limit:
      value: 20
    Offset:
      value: 3
    RecipeIdNewTransaction:
      value: 85c6cf5c-0bec-11e8-ba89-0ed5f89f718b
    RecipeIdAccountLowBalance:
      value: 85c6cb74-0bec-11e8-ba89-0ed5f89f718b
    ForbiddenError:
      value:
        message: Access to requested resource denied.
        errors:
          - message: 'Resource access denied due to an insufficient user quota of {quota}.'
            key: common.api.quota
            context:
              quota: someQuota
    BadRequestError:
      value:
        message: Bad Request
        errors:
          - message: 'Value Exceeded. Must be between {min} and {max}.'
            key: common.api.shoesize
            context:
              max: '50'
              min: '1'
    UnauthorizedError:
      value:
        message: Access to requested resource denied.
        errors:
          - message: Resource access denied due to invalid credentials.
            key: common.api.token
            context:
              accessToken: expired
    NotFoundError:
      value:
        message: Resource not found.
        errors:
          - message: 'Unable to find the resource requested resource: {resource}.'
            key: common.api.resource
            context:
              resource: aResource
